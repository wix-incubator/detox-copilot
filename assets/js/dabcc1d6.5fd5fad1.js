"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[953],{7221:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>ye,contentTitle:()=>ge,default:()=>we,frontMatter:()=>fe,metadata:()=>n,toc:()=>ve});const n=JSON.parse('{"id":"guides/technical-overview","title":"Technical Overview","description":"Detox Copilot integrates seamlessly with your testing environment by combining natural language processing with Detox\'s robust testing capabilities.","source":"@site/docs/guides/technical-overview.mdx","sourceDirName":"guides","slug":"/guides/technical-overview","permalink":"/detox-copilot/docs/guides/technical-overview","draft":false,"unlisted":false,"editUrl":"https://github.com/wix-incubator/detox-copilot/blob/copilot-doc-site/website/docs/guides/technical-overview.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"technical-overview","title":"Technical Overview","sidebar_label":"Technical Overview","sidebar_position":2},"sidebar":"guideSidebar","previous":{"title":"Integrating with Testing Frameworks","permalink":"/detox-copilot/docs/guides/integrating-with-testing-frameworks"},"next":{"title":"Copilot Best Practices","permalink":"/detox-copilot/docs/guides/copilot-best-practices"}}');var i,s,a,l,o,c,d,h,x,m,p,u,f,g,y,v,E,w,b,k,j,C,M,N,D,z,O,L,T,I,P,R,S,B,F,G,U,A,H,_,W,Y,q,V,X,J,K,Q,Z,$,ee,te,re,ne,ie,se,ae,le,oe,ce,de,he=r(4848),xe=r(8453),me=r(6540);function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pe.apply(null,arguments)}const ue=e=>{let{title:t,titleId:r,...n}=e;return me.createElement("svg",pe({xmlns:"http://www.w3.org/2000/svg",width:800,height:900,"aria-labelledby":r},n),t?me.createElement("title",{id:r},t):null,i||(i=me.createElement("defs",null,me.createElement("marker",{id:"arrowhead",markerHeight:7,markerWidth:10,orient:"auto",refX:5,refY:3.5},me.createElement("path",{fill:"#333",d:"m0 0 10 3.5L0 7z"})))),s||(s=me.createElement("style",null,".step-text,.sub-text{font-size:14px;text-anchor:middle;fill:#333;font-family:Arial,sans-serif}.sub-text{font-size:12px;fill:#555}")),a||(a=me.createElement("rect",{width:100,height:40,x:350,y:20,fill:"#d1eaff",stroke:"#333",rx:10,ry:10})),l||(l=me.createElement("text",{x:400,y:45,className:"step-text"},"Start")),o||(o=me.createElement("rect",{width:200,height:50,x:300,y:80,fill:"#e8f5e9",stroke:"#333",rx:10,ry:10})),c||(c=me.createElement("text",{x:400,y:105,className:"step-text"},"Gather Context")),d||(d=me.createElement("text",{x:400,y:120,className:"sub-text"},"(App's UI State)")),h||(h=me.createElement("rect",{width:200,height:50,x:300,y:160,fill:"#fff8e1",stroke:"#333",rx:10,ry:10})),x||(x=me.createElement("text",{x:400,y:185,className:"step-text"},"Check Cache")),m||(m=me.createElement("text",{x:400,y:200,className:"sub-text"},"(Based on intent)")),p||(p=me.createElement("rect",{width:200,height:50,x:300,y:230,fill:"#fff",stroke:"#333",rx:10,ry:10})),u||(u=me.createElement("text",{x:400,y:260,className:"step-text"},"Result in Cache?")),f||(f=me.createElement("rect",{width:200,height:50,x:50,y:320,fill:"#fff8e1",stroke:"#333",rx:10,ry:10})),g||(g=me.createElement("text",{x:150,y:345,className:"step-text"},"Retrieve Result")),y||(y=me.createElement("text",{x:150,y:360,className:"sub-text"},"(From Cache)")),v||(v=me.createElement("rect",{width:200,height:50,x:50,y:390,fill:"#c8e6c9",stroke:"#333",rx:10,ry:10})),E||(E=me.createElement("text",{x:150,y:415,className:"step-text"},"Execute Cached")),w||(w=me.createElement("text",{x:150,y:430,className:"step-text"},"Detox Code")),b||(b=me.createElement("rect",{width:200,height:50,x:50,y:460,fill:"#f3e5f5",stroke:"#333",rx:10,ry:10})),k||(k=me.createElement("text",{x:150,y:485,className:"step-text"},"Provide Feedback")),j||(j=me.createElement("text",{x:150,y:500,className:"sub-text"},"(Error / Result)")),C||(C=me.createElement("rect",{width:200,height:50,x:550,y:320,fill:"#ffebee",stroke:"#333",rx:10,ry:10})),M||(M=me.createElement("text",{x:650,y:345,className:"step-text"},"Create LLM Prompt")),N||(N=me.createElement("text",{x:650,y:360,className:"sub-text"},"(Based on Context and Intent)")),D||(D=me.createElement("rect",{width:200,height:50,x:550,y:390,fill:"#d4fffc",stroke:"#333",rx:10,ry:10})),z||(z=me.createElement("text",{x:650,y:415,className:"step-text"},"Generate Detox Code")),O||(O=me.createElement("text",{x:650,y:430,className:"sub-text"},"(Using LLM)")),L||(L=me.createElement("rect",{width:200,height:50,x:550,y:460,fill:"#c8e6c9",stroke:"#333",rx:10,ry:10})),T||(T=me.createElement("text",{x:650,y:485,className:"step-text"},"Execute Generated")),I||(I=me.createElement("text",{x:650,y:500,className:"step-text"},"Detox Code")),P||(P=me.createElement("rect",{width:200,height:50,x:550,y:530,fill:"#fff8e1",stroke:"#333",rx:10,ry:10})),R||(R=me.createElement("text",{x:650,y:560,className:"step-text"},"Cache Generated Code")),S||(S=me.createElement("rect",{width:200,height:50,x:550,y:600,fill:"#f3e5f5",stroke:"#333",rx:10,ry:10})),B||(B=me.createElement("text",{x:650,y:625,className:"step-text"},"Provide Feedback")),F||(F=me.createElement("text",{x:650,y:640,className:"sub-text"},"(Error / Result)")),G||(G=me.createElement("rect",{width:200,height:50,x:300,y:680,fill:"#fff",stroke:"#333",rx:10,ry:10})),U||(U=me.createElement("text",{x:400,y:710,className:"step-text"},"Next Step?")),A||(A=me.createElement("rect",{width:100,height:40,x:350,y:770,fill:"#d1eaff",stroke:"#333",rx:10,ry:10})),H||(H=me.createElement("text",{x:400,y:795,className:"step-text"},"End")),_||(_=me.createElement("path",{stroke:"#333",markerEnd:"url(#arrowhead)",d:"M400 60v20"})),W||(W=me.createElement("path",{stroke:"#333",markerEnd:"url(#arrowhead)",d:"M400 130v30"})),Y||(Y=me.createElement("path",{stroke:"#333",markerEnd:"url(#arrowhead)",d:"M400 210v20"})),q||(q=me.createElement("path",{stroke:"#333",d:"M300 260H150"})),V||(V=me.createElement("path",{stroke:"#333",markerEnd:"url(#arrowhead)",d:"M150 260v60"})),X||(X=me.createElement("text",{x:275,y:250,fill:"#333",fontSize:12},"Yes")),J||(J=me.createElement("path",{stroke:"#333",d:"M500 260h150"})),K||(K=me.createElement("path",{stroke:"#333",markerEnd:"url(#arrowhead)",d:"M650 260v60"})),Q||(Q=me.createElement("text",{x:525,y:250,fill:"#333",fontSize:12},"No")),Z||(Z=me.createElement("path",{stroke:"#333",markerEnd:"url(#arrowhead)",d:"M150 370v20"})),$||($=me.createElement("path",{stroke:"#333",markerEnd:"url(#arrowhead)",d:"M150 440v20"})),ee||(ee=me.createElement("path",{stroke:"#333",d:"M250 490h150"})),te||(te=me.createElement("path",{stroke:"#333",markerEnd:"url(#arrowhead)",d:"M400 490v190"})),re||(re=me.createElement("path",{stroke:"#333",markerEnd:"url(#arrowhead)",d:"M650 370v20"})),ne||(ne=me.createElement("path",{stroke:"#333",markerEnd:"url(#arrowhead)",d:"M650 440v20"})),ie||(ie=me.createElement("path",{stroke:"#333",markerEnd:"url(#arrowhead)",d:"M650 510v20"})),se||(se=me.createElement("path",{stroke:"#333",markerEnd:"url(#arrowhead)",d:"M650 580v20"})),ae||(ae=me.createElement("path",{stroke:"#333",d:"M550 630H400"})),le||(le=me.createElement("path",{stroke:"#333",markerEnd:"url(#arrowhead)",d:"M400 730v40"})),oe||(oe=me.createElement("text",{x:410,y:760,fill:"#333",fontSize:12},"No")),ce||(ce=me.createElement("path",{fill:"none",stroke:"#333",markerEnd:"url(#arrowhead)",d:"M300 710c-50 0-50-620 100-620"})),de||(de=me.createElement("text",{x:260,y:400,fill:"#333",fontSize:12},"Yes")))},fe={id:"technical-overview",title:"Technical Overview",sidebar_label:"Technical Overview",sidebar_position:2},ge="Technical Overview",ye={},ve=[{value:"Building Blocks of Detox Copilot",id:"building-blocks-of-detox-copilot",level:2},{value:"Copilot&#39;s Execution Flow",id:"copilots-execution-flow",level:2},{value:"Performance Optimization",id:"performance-optimization",level:3}];function Ee(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,xe.R)(),...e.components};return(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(t.header,{children:(0,he.jsx)(t.h1,{id:"technical-overview",children:"Technical Overview"})}),"\n",(0,he.jsx)(t.p,{children:"Detox Copilot integrates seamlessly with your testing environment by combining natural language processing with Detox's robust testing capabilities."}),"\n",(0,he.jsx)(t.h2,{id:"building-blocks-of-detox-copilot",children:"Building Blocks of Detox Copilot"}),"\n",(0,he.jsx)(t.p,{children:"To enable Detox Copilot to work harmoniously with Detox and your app, it relies on several building blocks:"}),"\n",(0,he.jsxs)(t.ul,{children:["\n",(0,he.jsxs)(t.li,{children:[(0,he.jsx)(t.strong,{children:"Dynamic Code Generation"}),": Copilot generates Detox code on-the-fly to perform actions or assertions based on your instructions."]}),"\n",(0,he.jsxs)(t.li,{children:[(0,he.jsx)(t.strong,{children:"Visual Analysis"}),": Copilot can analyze the app's screen to verify the presence of specific elements or text, enabling assertions beyond standard UI checks."]}),"\n",(0,he.jsxs)(t.li,{children:[(0,he.jsx)(t.strong,{children:"App View Hierarchy"}),": Detox generates an XML representation of the app's view hierarchy, helping Copilot interact with all UI elements, even those not directly visible."]}),"\n",(0,he.jsxs)(t.li,{children:[(0,he.jsx)(t.strong,{children:"Snapshot Images"}),": Optional snapshot images provide Copilot with visual context for more precise understanding and analysis."]}),"\n",(0,he.jsxs)(t.li,{children:[(0,he.jsx)(t.strong,{children:"Injected Test IDs"}),": When necessary, Detox injects unique test IDs to ensure reliable access to UI elements."]}),"\n",(0,he.jsxs)(t.li,{children:[(0,he.jsx)(t.strong,{children:"Caching Mechanism"}),": Copilot caches execution results to optimize performance and reduce unnecessary LLM calls (see ",(0,he.jsx)(t.a,{href:"#performance-optimization",children:"Performance Optimization"}),")."]}),"\n",(0,he.jsxs)(t.li,{children:[(0,he.jsx)(t.strong,{children:"Test Context Awareness"}),": Copilot maintains awareness of previously executed steps, ensuring continuity and readability in the test flow."]}),"\n"]}),"\n",(0,he.jsx)(t.h2,{id:"copilots-execution-flow",children:"Copilot's Execution Flow"}),"\n",(0,he.jsx)(ue,{style:{backgroundColor:"#f5f5f5",borderRadius:"10px"}}),"\n",(0,he.jsx)(t.p,{children:"The execution flow of Detox Copilot can be broken down into six main steps:"}),"\n",(0,he.jsxs)(t.ol,{children:["\n",(0,he.jsxs)(t.li,{children:[(0,he.jsx)(t.strong,{children:"Gather Context"}),": Collect relevant app state, view hierarchy, and previous step results."]}),"\n",(0,he.jsxs)(t.li,{children:[(0,he.jsx)(t.strong,{children:"Interpret Intent"}),": Use the LLM to interpret the natural language instruction."]}),"\n",(0,he.jsxs)(t.li,{children:[(0,he.jsx)(t.strong,{children:"Generate Code"}),": Create the appropriate Detox commands."]}),"\n",(0,he.jsxs)(t.li,{children:[(0,he.jsx)(t.strong,{children:"Execute Action"}),": Run the generated Detox code."]}),"\n",(0,he.jsxs)(t.li,{children:[(0,he.jsx)(t.strong,{children:"Cache Results"}),": Store execution results to optimize future runs."]}),"\n",(0,he.jsxs)(t.li,{children:[(0,he.jsx)(t.strong,{children:"Provide Feedback"}),": Return values or confirm actions for subsequent steps."]}),"\n"]}),"\n",(0,he.jsx)(t.p,{children:"By combining these steps, Detox Copilot effectively bridges the gap between natural language instructions and concrete test actions."}),"\n",(0,he.jsx)(t.h3,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,he.jsxs)(t.p,{children:["Detox Copilot is designed to avoid unnecessary calls to the LLM service and optimize performance using static cache that is based on the current state of the app.\nThis minimizes the number of calls to the LLM service and reduces latency.\nHowever, you can optimize your ",(0,he.jsx)(t.code,{children:"PromptHandler"})," implementation to reduce latency and improve response times (e.g., by reducing the image size or implementing a server-side cache).\nWe have plans to optimize even further by introducing more advanced caching mechanisms for better performance."]})]})}function we(e={}){const{wrapper:t}={...(0,xe.R)(),...e.components};return t?(0,he.jsx)(t,{...e,children:(0,he.jsx)(Ee,{...e})}):Ee(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>a,x:()=>l});var n=r(6540);const i={},s=n.createContext(i);function a(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);