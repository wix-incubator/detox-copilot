<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guides/technical-overview" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.1">
<title data-rh="true">Technical Overview | Copilot</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://wix-incubator.github.io/detox-copilot/docs/guides/technical-overview"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Technical Overview | Copilot"><meta data-rh="true" name="description" content="Detox Copilot integrates seamlessly with your testing environment by combining natural language processing with Detox&#x27;s robust testing capabilities."><meta data-rh="true" property="og:description" content="Detox Copilot integrates seamlessly with your testing environment by combining natural language processing with Detox&#x27;s robust testing capabilities."><link data-rh="true" rel="icon" href="/detox-copilot/img/homepage/detox-logo.png"><link data-rh="true" rel="canonical" href="https://wix-incubator.github.io/detox-copilot/docs/guides/technical-overview"><link data-rh="true" rel="alternate" href="https://wix-incubator.github.io/detox-copilot/docs/guides/technical-overview" hreflang="en"><link data-rh="true" rel="alternate" href="https://wix-incubator.github.io/detox-copilot/docs/guides/technical-overview" hreflang="x-default"><link rel="stylesheet" href="/detox-copilot/assets/css/styles.54c30445.css">
<script src="/detox-copilot/assets/js/runtime~main.cf372943.js" defer="defer"></script>
<script src="/detox-copilot/assets/js/main.7e429acd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/detox-copilot/"><div class="navbar__logo"><img src="/detox-copilot/img/homepage/detox-logo.png" alt="Detox Copilot Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/detox-copilot/img/homepage/detox-logo.png" alt="Detox Copilot Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/detox-copilot/docs/guides/integrating-with-testing-frameworks">Guides</a><a class="navbar__item navbar__link" href="/detox-copilot/docs/API/basic-interface-overview">API</a><a class="navbar__item navbar__link" href="/detox-copilot/docs/pages/supported-frameworks">Supported Frameworks</a><a href="https://github.com/wix-incubator/detox-copilot" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS darkNavbarColorModeToggle_X3D1" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/detox-copilot/docs/guides/integrating-with-testing-frameworks">Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/detox-copilot/docs/guides/integrating-with-testing-frameworks">Integrating with Testing Frameworks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/detox-copilot/docs/guides/technical-overview">Technical Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/detox-copilot/docs/guides/copilot-best-practices">Copilot Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/detox-copilot/docs/guides/implementing-custom-testing-framework-driver">Implementing Custom Testing Framework Driver</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/detox-copilot/docs/guides/contributing-to-copilot-by-detox">Contributing to Copilot</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/detox-copilot/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Guides</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Technical Overview</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Technical Overview</h1></header>
<p>Detox Copilot integrates seamlessly with your testing environment by combining natural language processing with Detox&#x27;s robust testing capabilities.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="building-blocks-of-detox-copilot">Building Blocks of Detox Copilot<a href="#building-blocks-of-detox-copilot" class="hash-link" aria-label="Direct link to Building Blocks of Detox Copilot" title="Direct link to Building Blocks of Detox Copilot">​</a></h2>
<p>To enable Detox Copilot to work harmoniously with Detox and your app, it relies on several building blocks:</p>
<ul>
<li><strong>Dynamic Code Generation</strong>: Copilot generates Detox code on-the-fly to perform actions or assertions based on your instructions.</li>
<li><strong>Visual Analysis</strong>: Copilot can analyze the app&#x27;s screen to verify the presence of specific elements or text, enabling assertions beyond standard UI checks.</li>
<li><strong>App View Hierarchy</strong>: Detox generates an XML representation of the app&#x27;s view hierarchy, helping Copilot interact with all UI elements, even those not directly visible.</li>
<li><strong>Snapshot Images</strong>: Optional snapshot images provide Copilot with visual context for more precise understanding and analysis.</li>
<li><strong>Injected Test IDs</strong>: When necessary, Detox injects unique test IDs to ensure reliable access to UI elements.</li>
<li><strong>Caching Mechanism</strong>: Copilot caches execution results to optimize performance and reduce unnecessary LLM calls (see <a href="#performance-optimization">Performance Optimization</a>).</li>
<li><strong>Test Context Awareness</strong>: Copilot maintains awareness of previously executed steps, ensuring continuity and readability in the test flow.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="copilots-execution-flow">Copilot&#x27;s Execution Flow<a href="#copilots-execution-flow" class="hash-link" aria-label="Direct link to Copilot&#x27;s Execution Flow" title="Direct link to Copilot&#x27;s Execution Flow">​</a></h2>
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="900" style="background-color:#f5f5f5;border-radius:10px"><defs><marker id="arrowhead" markerHeight="7" markerWidth="10" orient="auto" refX="5" refY="3.5"><path fill="#333" d="m0 0 10 3.5L0 7z"></path></marker></defs><style>.step-text,.sub-text{font-size:14px;text-anchor:middle;fill:#333;font-family:Arial,sans-serif}.sub-text{font-size:12px;fill:#555}</style><rect width="100" height="40" x="350" y="20" fill="#d1eaff" stroke="#333" rx="10" ry="10"></rect><text x="400" y="45" class="step-text">Start</text><rect width="200" height="50" x="300" y="80" fill="#e8f5e9" stroke="#333" rx="10" ry="10"></rect><text x="400" y="105" class="step-text">Gather Context</text><text x="400" y="120" class="sub-text">(App&#x27;s UI State)</text><rect width="200" height="50" x="300" y="160" fill="#fff8e1" stroke="#333" rx="10" ry="10"></rect><text x="400" y="185" class="step-text">Check Cache</text><text x="400" y="200" class="sub-text">(Based on intent)</text><rect width="200" height="50" x="300" y="230" fill="#fff" stroke="#333" rx="10" ry="10"></rect><text x="400" y="260" class="step-text">Result in Cache?</text><rect width="200" height="50" x="50" y="320" fill="#fff8e1" stroke="#333" rx="10" ry="10"></rect><text x="150" y="345" class="step-text">Retrieve Result</text><text x="150" y="360" class="sub-text">(From Cache)</text><rect width="200" height="50" x="50" y="390" fill="#c8e6c9" stroke="#333" rx="10" ry="10"></rect><text x="150" y="415" class="step-text">Execute Cached</text><text x="150" y="430" class="step-text">Detox Code</text><rect width="200" height="50" x="50" y="460" fill="#f3e5f5" stroke="#333" rx="10" ry="10"></rect><text x="150" y="485" class="step-text">Provide Feedback</text><text x="150" y="500" class="sub-text">(Error / Result)</text><rect width="200" height="50" x="550" y="320" fill="#ffebee" stroke="#333" rx="10" ry="10"></rect><text x="650" y="345" class="step-text">Create LLM Prompt</text><text x="650" y="360" class="sub-text">(Based on Context and Intent)</text><rect width="200" height="50" x="550" y="390" fill="#d4fffc" stroke="#333" rx="10" ry="10"></rect><text x="650" y="415" class="step-text">Generate Detox Code</text><text x="650" y="430" class="sub-text">(Using LLM)</text><rect width="200" height="50" x="550" y="460" fill="#c8e6c9" stroke="#333" rx="10" ry="10"></rect><text x="650" y="485" class="step-text">Execute Generated</text><text x="650" y="500" class="step-text">Detox Code</text><rect width="200" height="50" x="550" y="530" fill="#fff8e1" stroke="#333" rx="10" ry="10"></rect><text x="650" y="560" class="step-text">Cache Generated Code</text><rect width="200" height="50" x="550" y="600" fill="#f3e5f5" stroke="#333" rx="10" ry="10"></rect><text x="650" y="625" class="step-text">Provide Feedback</text><text x="650" y="640" class="sub-text">(Error / Result)</text><rect width="200" height="50" x="300" y="680" fill="#fff" stroke="#333" rx="10" ry="10"></rect><text x="400" y="710" class="step-text">Next Step?</text><rect width="100" height="40" x="350" y="770" fill="#d1eaff" stroke="#333" rx="10" ry="10"></rect><text x="400" y="795" class="step-text">End</text><path stroke="#333" marker-end="url(#arrowhead)" d="M400 60v20"></path><path stroke="#333" marker-end="url(#arrowhead)" d="M400 130v30"></path><path stroke="#333" marker-end="url(#arrowhead)" d="M400 210v20"></path><path stroke="#333" d="M300 260H150"></path><path stroke="#333" marker-end="url(#arrowhead)" d="M150 260v60"></path><text x="275" y="250" fill="#333" font-size="12">Yes</text><path stroke="#333" d="M500 260h150"></path><path stroke="#333" marker-end="url(#arrowhead)" d="M650 260v60"></path><text x="525" y="250" fill="#333" font-size="12">No</text><path stroke="#333" marker-end="url(#arrowhead)" d="M150 370v20"></path><path stroke="#333" marker-end="url(#arrowhead)" d="M150 440v20"></path><path stroke="#333" d="M250 490h150"></path><path stroke="#333" marker-end="url(#arrowhead)" d="M400 490v190"></path><path stroke="#333" marker-end="url(#arrowhead)" d="M650 370v20"></path><path stroke="#333" marker-end="url(#arrowhead)" d="M650 440v20"></path><path stroke="#333" marker-end="url(#arrowhead)" d="M650 510v20"></path><path stroke="#333" marker-end="url(#arrowhead)" d="M650 580v20"></path><path stroke="#333" d="M550 630H400"></path><path stroke="#333" marker-end="url(#arrowhead)" d="M400 730v40"></path><text x="410" y="760" fill="#333" font-size="12">No</text><path fill="none" stroke="#333" marker-end="url(#arrowhead)" d="M300 710c-50 0-50-620 100-620"></path><text x="260" y="400" fill="#333" font-size="12">Yes</text></svg>
<p>The execution flow of Detox Copilot can be broken down into six main steps:</p>
<ol>
<li><strong>Gather Context</strong>: Collect relevant app state, view hierarchy, and previous step results.</li>
<li><strong>Interpret Intent</strong>: Use the LLM to interpret the natural language instruction.</li>
<li><strong>Generate Code</strong>: Create the appropriate Detox commands.</li>
<li><strong>Execute Action</strong>: Run the generated Detox code.</li>
<li><strong>Cache Results</strong>: Store execution results to optimize future runs.</li>
<li><strong>Provide Feedback</strong>: Return values or confirm actions for subsequent steps.</li>
</ol>
<p>By combining these steps, Detox Copilot effectively bridges the gap between natural language instructions and concrete test actions.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-optimization">Performance Optimization<a href="#performance-optimization" class="hash-link" aria-label="Direct link to Performance Optimization" title="Direct link to Performance Optimization">​</a></h3>
<p>Detox Copilot is designed to avoid unnecessary calls to the LLM service and optimize performance using static cache that is based on the current state of the app.
This minimizes the number of calls to the LLM service and reduces latency.
However, you can optimize your <code>PromptHandler</code> implementation to reduce latency and improve response times (e.g., by reducing the image size or implementing a server-side cache).
We have plans to optimize even further by introducing more advanced caching mechanisms for better performance.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/wix-incubator/detox-copilot/blob/copilot-doc-site/website/docs/guides/technical-overview.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/detox-copilot/docs/guides/integrating-with-testing-frameworks"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Integrating with Testing Frameworks</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/detox-copilot/docs/guides/copilot-best-practices"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Copilot Best Practices</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#building-blocks-of-detox-copilot" class="table-of-contents__link toc-highlight">Building Blocks of Detox Copilot</a></li><li><a href="#copilots-execution-flow" class="table-of-contents__link toc-highlight">Copilot&#39;s Execution Flow</a><ul><li><a href="#performance-optimization" class="table-of-contents__link toc-highlight">Performance Optimization</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Guides</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/detox-copilot/docs/guides/copilot-best-practices">Best Practices</a></li><li class="footer__item"><a class="footer__link-item" href="/detox-copilot/docs/guides/contributing-to-copilot-by-detox">Contributing to Copilot</a></li></ul></div><div class="col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/detox" target="_self" rel="noopener noreferrer" class="footer__link-item">Ask a question on Stack Overflow</a></li><li class="footer__item"><a href="https://github.com/wix-incubator/detox-copilot/issues" target="_self" rel="noopener noreferrer" class="footer__link-item">Create new issue on Github</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/wix-incubator/detox-copilot" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__link-item_git-hub">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/detoxe2e/" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__link-item_twitter">Twitter</a></li><li class="footer__item"><a href="https://discord.gg/CkD5QKheF5" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__link-item_discord">Discord</a></li></ul></div></div></div></footer></div>
</body>
</html>